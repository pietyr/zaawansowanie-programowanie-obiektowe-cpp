// Wywo≈Çanie:
// # g++ -o main main.cc functions.cc functionsTests.cc -lgtest
// ============================ TESTY ====================================
#include<vector>
#include<string>
#include<iostream>
#include <gtest/gtest.h>
#include <gmock/gmock-matchers.h>
using namespace std;
using namespace testing;

bool isEven(int n);

int sign(int n);

vector<int> difference(vector<int> vec);

void show(string line);

bool isEven(int n) {
    if (n % 2 == 0)
        return true;
    else
        return false;
}

int sign(int n) {
    if (n < 0)
        return -1;
    if (n > 0)
        return 1;
    else
        return 0;
}

vector<int> difference(vector<int> vec) {
    vector<int> res;
    for (int i = 1; i < vec.size(); i++) {
        res.push_back(vec[i] - vec[i - 1]);
    }
    return res;
}

void show(string line) {
    if (line.empty())
        throw runtime_error("Pusty napis");
    cout << "Podany napis to: " << line << endl;
}


TEST(IsEvenTest, OddTests) {
    ASSERT_EQ(false, isEven(5));
}

TEST(IsEvenTest, EvenTests) {
    ASSERT_NE(false, isEven(6));
}

TEST(SignTest, FirstIfTests) {
    ASSERT_THAT(1, Eq(sign(6)));
}

TEST(DifferenceTest, OkResultTests) {
    vector<int> res;

    vector<int> num{1, 2, 3, 6, 5};
    res = difference(num);
    vector<int> resExpeted{1, 1, 3, -1};
    ASSERT_EQ(res.size(), resExpeted.size());
    for (int i = 0; i < res.size(); i++) {
        EXPECT_EQ(res[i], resExpeted[i])
                << " Obrot " << i << endl;
    }
}

TEST(ShowTest, EmptyLineTests) {
    EXPECT_THROW(show(""), runtime_error);
}

int main(int argc, char *argv[]) {
    ::testing::InitGoogleTest(&argc, argv);
    return RUN_ALL_TESTS();
}